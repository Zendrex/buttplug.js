---
title: Custom Patterns
description: Custom tracks, keyframes, and easing curves
---

Custom patterns use one or more tracks, each targeting a device feature with a series of keyframes.

## Custom Pattern Descriptor

<auto-type-table path="src/patterns/types.ts" name="CustomPattern" />

## Track

<auto-type-table path="src/patterns/types.ts" name="Track" />

## Keyframe

<auto-type-table path="src/patterns/types.ts" name="Keyframe" />

`value` must be between 0 and 1. `duration` is a non-negative integer in milliseconds. A duration of 0 creates an instant jump.

## Example

```ts
await engine.play(device, [
  {
    featureIndex: 0,
    keyframes: [
      { value: 0, duration: 200 },
      { value: 1, duration: 300, easing: "easeInOut" },
      { value: 0.2, duration: 100, easing: "easeOut" },
      { value: 0.8, duration: 400, easing: "easeIn" },
    ],
  },
], {
  intensity: 0.9,
  loop: 3,
});
```

<Accordions>
<Accordion title="Full Descriptor Form">
```ts
await engine.play(device, {
  type: "custom",
  tracks: [
    {
      featureIndex: 0,
      keyframes: [
        { value: 0, duration: 200 },
        { value: 1, duration: 300, easing: "easeInOut" },
        { value: 0.2, duration: 100, easing: "easeOut" },
        { value: 0.8, duration: 400, easing: "easeIn" },
      ],
    },
  ],
  intensity: 0.9,
  loop: 3,
});
```
</Accordion>
</Accordions>

## Easing Functions

Keyframes support the following easing curves:

<TypeTable type={{
  linear: { description: 'Constant rate (default)' },
  easeIn: { description: 'Slow start, fast end (cubic)' },
  easeOut: { description: 'Fast start, slow end (cubic)' },
  easeInOut: { description: 'Slow start and end (cubic)' },
  step: { description: 'Instant jump at completion' },
}} />
